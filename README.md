# 上证50股指期货期权策略看板 - 使用说明

## 一、快速开始

### 1.1 环境要求

- Python 3.12+
- Windows/Mac/Linux
- VPN/代理（用于访问金融数据）

### 1.2 安装步骤

#### 步骤1: 安装Python依赖

打开终端（CMD或PowerShell），运行：

```bash
pip install akshare pandas numpy arch statsmodels streamlit
```

#### 步骤2: 启动看板

```bash
cd "C:\Users\gaaiy\Desktop\上证50期权策略看板"
streamlit run app.py
```

#### 步骤3: 打开浏览器

浏览器会自动打开 http://localhost:8501

---

## 二、看板功能

### 2.1 主页面

看板包含4个标签页：

| 标签 | 功能 |
|------|------|
| 📈 市场数据 | 显示上证50指数、期货、期权数据 |
| 📊 策略指标 | 显示BSADF、GARCH、VaR、RV等核心指标 |
| 🎯 交易信号 | 显示当前建仓/止损信号 |
| 📋 策略说明 | 完整的策略文档 |

### 2.2 参数设置

在左侧边栏可以调整：

- **GARCH滚动窗口**: 默认250天
- **VaR置信水平**: 90%/95%/99%
- **建仓虚值程度**: 默认11%
- **止损虚值程度**: 默认6.4%
- **RV计算窗口**: 默认5分钟

---

## 三、策略解读

### 3.1 什么是做空波动率？

做空波动率（Short Volatility）是一种期权交易策略，核心原理是：

1. **卖出期权**收取权利金
2. **等待期权到期**，如果价格波动不大，可以赚取时间价值
3. **风险**：如果市场大幅波动，可能遭受巨大损失

### 3.2 为什么要用BSADF？

BSADF检验用于检测市场是否处于"泡沫期"。在泡沫期，单边行情可能即将结束，此时卖出期权胜率更高。

### 3.3 为什么要用GARCH？

GARCH模型可以预测未来的波动率，帮助我们：
- 计算VaR（风险价值）
- 确定期权的合理行权价
- 设置止损点位

### 3.4 为什么要用RV？

RV（已实现波动率）用于**盘中实时监控**。即使GARCH模型没有破位，如果盘中波动率突然飙升，也要立即平仓。

---

## 四、交易信号解读

### 4.1 建仓信号

| 信号 | 含义 |
|------|------|
| BSADF未触发 | 等待观望 |
| BSADF触发 | 建议卖出深度虚值期权 |

### 4.2 止损信号

| 信号 | 含义 |
|------|------|
| RV正常 | 继续持仓 |
| RV异常 | 立即平仓！ |

---

## 五、常见问题

### Q1: 数据获取失败怎么办？

**检查VPN/代理是否开启**，确保能访问：
- data.sina.com.cn
- eastmoney.com

### Q2: 指标显示"--"怎么办？

部分指标需要获取完整历史数据后才能计算，初次运行可能显示为空。

### Q3: 如何更新数据？

Streamlit会自动刷新页面，或者点击右上角"Rerun"按钮。

### Q4: 可以自定义参数吗？

可以！在左侧边栏调整参数，看板会实时更新。

---

## 六、风险提示

1. **回测不代表未来**: 历史表现不等于未来收益
2. **模型风险**: GARCH模型对突发事件预测能力有限
3. **流动性风险**: 期权可能无法及时平仓
4. **杠杆风险**: 请勿使用杠杆

---

## 七、相关文件

| 文件 | 说明 |
|------|------|
| `app.py` | 看板主程序 |
| `DEVELOPER.md` | 开发技术文档 |
| `README.md` | 本使用说明 |

---

## 八、技术支持

如有问题，请参考：
- AkShare文档: https://akshare.akfamily.xyz
- Streamlit文档: https://docs.streamlit.io

---

*祝交易顺利！* 📈
