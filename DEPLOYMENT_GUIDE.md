# Streamlit Cloud éƒ¨ç½²æŒ‡å—

## å¿«é€Ÿéƒ¨ç½²æ­¥éª¤

### 1. è®¿é—® Streamlit Cloud
æ‰“å¼€æµè§ˆå™¨è®¿é—®ï¼šhttps://share.streamlit.io/

### 2. ç™»å½• GitHub è´¦å·
ä½¿ç”¨æ‚¨çš„ GitHub è´¦å·ç™»å½• Streamlit Cloud

### 3. éƒ¨ç½²åº”ç”¨

ç‚¹å‡» **"New app"** æŒ‰é’®ï¼Œå¡«å†™ä»¥ä¸‹ä¿¡æ¯ï¼š

- **Repository**: `gaaiyun/SH_50_Index_Option_Trading_Signals`
- **Branch**: `main`
- **Main file path**: `app.py`
- **App URL** (å¯é€‰): è‡ªå®šä¹‰ URL æˆ–ä½¿ç”¨é»˜è®¤

### 4. é«˜çº§è®¾ç½®ï¼ˆå¯é€‰ï¼‰

ç‚¹å‡» **"Advanced settings"** é…ç½®ï¼š

- **Python version**: `3.11` (æŽ¨è)
- **Secrets**: å¦‚éœ€é…ç½®æŽ¨é€æœåŠ¡ï¼Œæ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š
  ```toml
  [pushplus]
  token = "your_pushplus_token_here"
  ```

### 5. ç‚¹å‡» Deploy

ç­‰å¾… 2-3 åˆ†é’Ÿï¼Œåº”ç”¨å°†è‡ªåŠ¨éƒ¨ç½²å®Œæˆã€‚

---

## éªŒè¯éƒ¨ç½²æˆåŠŸ

### æ£€æŸ¥æ—¥å¿—

éƒ¨ç½²å®ŒæˆåŽï¼Œç‚¹å‡»å³ä¸‹è§’çš„ **"Manage app"** â†’ **"Logs"**ï¼ŒæŸ¥çœ‹æ—¥å¿—è¾“å‡ºã€‚

**å…³é”®æ—¥å¿—éªŒè¯ç‚¹**ï¼š

1. **Sina æœˆä»½è§£æžæˆåŠŸ**ï¼š
   ```
   INFO:data_sources:Sina months OK: ['2603', '2604', '2606', '2609']
   ```

2. **æœŸæƒæ•°æ®åŠ è½½æˆåŠŸ**ï¼š
   ```
   INFO:data_sources:Sina options loaded
   ```

3. **æ—  streamlit-echarts é”™è¯¯**ï¼š
   - ä¸åº”å‡ºçŽ° `ImportError: cannot import name 'st_pyecharts'`
   - ä¸åº”å‡ºçŽ° 503 é”™è¯¯

### æ£€æŸ¥åº”ç”¨ç•Œé¢

1. **ä¾§è¾¹æ æ˜¾ç¤ºæ­£å¸¸**ï¼š
   - æ•°æ®æºé€‰æ‹©å™¨
   - åˆ·æ–°æŒ‰é’®
   - ç­›é€‰æ¡ä»¶

2. **ä¸»ç•Œé¢æ˜¾ç¤ºæ•°æ®**ï¼š
   - æœŸæƒé“¾è¡¨æ ¼æœ‰æ•°æ®
   - å›¾è¡¨æ­£å¸¸æ¸²æŸ“ï¼ˆæˆ–æ˜¾ç¤º"å›¾è¡¨æ¸²æŸ“å¤±è´¥ï¼Œå·²å›žé€€åˆ°è¡¨æ ¼æ¨¡å¼"ï¼‰

3. **æ— é”™è¯¯æç¤º**ï¼š
   - ä¸åº”å‡ºçŽ°çº¢è‰²é”™è¯¯æ¡†
   - æ•°æ®æºæ¶ˆæ¯æ˜¾ç¤º "Sina options loaded"

---

## å¸¸è§é—®é¢˜æŽ’æŸ¥

### é—®é¢˜ 1: 503 Service Unavailable

**åŽŸå› **: ä¾èµ–å®‰è£…å¤±è´¥æˆ–å¯åŠ¨è¶…æ—¶

**è§£å†³æ–¹æ¡ˆ**:
1. æ£€æŸ¥ `requirements.txt` æ˜¯å¦æ­£ç¡®
2. ç¡®è®¤ `streamlit-echarts>=0.4.0,<0.5` ç‰ˆæœ¬é”å®š
3. é‡æ–°éƒ¨ç½²åº”ç”¨

### é—®é¢˜ 2: æ•°æ®åŠ è½½å¤±è´¥

**åŽŸå› **: Sina æŽ¥å£è¢«é™æµæˆ–ç½‘ç»œé—®é¢˜

**è§£å†³æ–¹æ¡ˆ**:
1. æŸ¥çœ‹æ—¥å¿—ä¸­çš„å…·ä½“é”™è¯¯ä¿¡æ¯
2. ç­‰å¾…å‡ åˆ†é’ŸåŽåˆ·æ–°é¡µé¢ï¼ˆé‡è¯•æœºåˆ¶ä¼šè‡ªåŠ¨å¤„ç†ï¼‰
3. å¦‚æŒç»­å¤±è´¥ï¼Œæ£€æŸ¥ Sina æŽ¥å£æ˜¯å¦å¯è®¿é—®

### é—®é¢˜ 3: å›¾è¡¨ä¸æ˜¾ç¤º

**åŽŸå› **: streamlit-echarts ç‰ˆæœ¬é—®é¢˜

**è§£å†³æ–¹æ¡ˆ**:
1. æ£€æŸ¥æ—¥å¿—æ˜¯å¦æœ‰ echarts ç›¸å…³é”™è¯¯
2. åº”ç”¨ä¼šè‡ªåŠ¨å›žé€€åˆ°è¡¨æ ¼æ¨¡å¼ï¼ŒåŠŸèƒ½ä¸å—å½±å“
3. ç¡®è®¤ `requirements.txt` ä¸­ç‰ˆæœ¬ä¸º `>=0.4.0,<0.5`

---

## æ‰‹åŠ¨è§¦å‘é‡æ–°éƒ¨ç½²

å¦‚æžœéœ€è¦é‡æ–°éƒ¨ç½²ï¼š

1. åœ¨ Streamlit Cloud æŽ§åˆ¶å°ï¼Œç‚¹å‡»åº”ç”¨å³ä¾§çš„ **"â‹®"** èœå•
2. é€‰æ‹© **"Reboot app"** é‡å¯åº”ç”¨
3. æˆ–é€‰æ‹© **"Delete app"** åŽé‡æ–°åˆ›å»º

---

## æœ¬åœ°æµ‹è¯•ï¼ˆæŽ¨èå…ˆæœ¬åœ°éªŒè¯ï¼‰

åœ¨éƒ¨ç½²åˆ° Cloud ä¹‹å‰ï¼Œå»ºè®®å…ˆæœ¬åœ°æµ‹è¯•ï¼š

```bash
# 1. å®‰è£…ä¾èµ–
pip install -r requirements.txt

# 2. è¿è¡Œæµ‹è¯•è„šæœ¬
python test_complete.py
python test_enhanced.py

# 3. å¯åŠ¨åº”ç”¨
streamlit run app.py

# 4. æµè§ˆå™¨è®¿é—®
# æ‰“å¼€ http://localhost:8501
```

**é¢„æœŸç»“æžœ**ï¼š
- `test_complete.py`: Sina æœˆä»½è§£æžå’ŒæœŸæƒæ•°æ®æµ‹è¯•é€šè¿‡
- `test_enhanced.py`: Sina æ•°æ®æºï¼ˆå¸¦é‡è¯•ï¼‰æµ‹è¯•é€šè¿‡
- åº”ç”¨å¯åŠ¨æ— é”™è¯¯ï¼Œæ•°æ®æ­£å¸¸æ˜¾ç¤º

---

## ç›‘æŽ§å’Œç»´æŠ¤

### å®šæœŸæ£€æŸ¥

1. **æ¯å‘¨æ£€æŸ¥ä¸€æ¬¡æ—¥å¿—**ï¼š
   - ç¡®è®¤æ•°æ®æºç¨³å®šæ€§
   - æŸ¥çœ‹æ˜¯å¦æœ‰æ–°çš„é”™è¯¯æˆ–è­¦å‘Š

2. **æ•°æ®æºå¥åº·åº¦**ï¼š
   - Sina æ•°æ®æºåº”ä¸ºä¸»è¦æ•°æ®æ¥æº
   - å¦‚ Sina é¢‘ç¹å¤±è´¥ï¼Œè€ƒè™‘åˆ‡æ¢åˆ°å¤‡ç”¨æ•°æ®æº

3. **æ€§èƒ½ç›‘æŽ§**ï¼š
   - é¡µé¢åŠ è½½æ—¶é—´åº”åœ¨ 3-5 ç§’å†…
   - æ•°æ®åˆ·æ–°æ—¶é—´åº”åœ¨ 1-2 ç§’å†…

### æ›´æ–°åº”ç”¨

å½“ GitHub ä»“åº“æœ‰æ–°æäº¤æ—¶ï¼š

1. Streamlit Cloud ä¼šè‡ªåŠ¨æ£€æµ‹æ›´æ–°
2. ç‚¹å‡» **"Reboot app"** åº”ç”¨æœ€æ–°ä»£ç 
3. æˆ–ç­‰å¾…è‡ªåŠ¨é‡å¯ï¼ˆé€šå¸¸åœ¨å‡ åˆ†é’Ÿå†…ï¼‰

---

## å¢žå¼ºåŠŸèƒ½è¯´æ˜Ž

### åçˆ¬è™«ç­–ç•¥

- âœ… **é‡è¯•æœºåˆ¶**: å¤±è´¥è‡ªåŠ¨é‡è¯• 3 æ¬¡ï¼Œå¸¦æŒ‡æ•°é€€é¿
- âœ… **éšæœº User-Agent**: æ¯æ¬¡è¯·æ±‚éšæœºé€‰æ‹© UAï¼Œé™ä½Žè¢«è¯†åˆ«é£Žé™©
- âœ… **è¯·æ±‚å»¶è¿Ÿ**: é‡è¯•æ—¶è‡ªåŠ¨æ·»åŠ éšæœºå»¶è¿Ÿ

### æ•°æ®æ¸…æ´—

- âœ… **ç§»é™¤æ— æ•ˆæ•°æ®**: ä»·æ ¼ä¸º 0ã€è¡Œæƒä»·ä¸º 0 çš„æ•°æ®
- âœ… **ç§»é™¤å¼‚å¸¸æ³¢åŠ¨**: æ¶¨è·Œå¹…è¶…è¿‡ Â±50% çš„æ•°æ®
- âœ… **å¡«å……ç¼ºå¤±å€¼**: è‡ªåŠ¨å¡«å……æ•°å€¼å’Œå­—ç¬¦ä¸²åˆ—çš„ç¼ºå¤±å€¼

### æ•°æ®æºä¼˜å…ˆçº§

```
Sina (ä¸»æº) â†’ yfinance (å¤‡ç”¨) â†’ ä¸œæ–¹è´¢å¯Œ (å¯é€‰)
```

---

## æŠ€æœ¯æ”¯æŒ

å¦‚é‡é—®é¢˜ï¼Œè¯·æŸ¥çœ‹ï¼š

1. **GitHub Issues**: https://github.com/gaaiyun/SH_50_Index_Option_Trading_Signals/issues
2. **é¡¹ç›®æ–‡æ¡£**:
   - `OPTIMIZATION_SUMMARY.md` - ä¿®å¤æ€»ç»“
   - `REFERENCE_PROJECTS.md` - å‚è€ƒé¡¹ç›®
3. **æµ‹è¯•è„šæœ¬**:
   - `test_complete.py` - å®Œæ•´åŠŸèƒ½æµ‹è¯•
   - `test_enhanced.py` - å¢žå¼ºåŠŸèƒ½æµ‹è¯•

---

## éƒ¨ç½²æ¸…å•

éƒ¨ç½²å‰ç¡®è®¤ï¼š

- [x] ä»£ç å·²æŽ¨é€åˆ° GitHub
- [x] `requirements.txt` ç‰ˆæœ¬å·²é”å®š
- [x] æœ¬åœ°æµ‹è¯•é€šè¿‡
- [x] æ—¥å¿—è¾“å‡ºæ­£å¸¸
- [ ] Streamlit Cloud è´¦å·å·²ç™»å½•
- [ ] åº”ç”¨å·²åˆ›å»ºå¹¶éƒ¨ç½²
- [ ] éƒ¨ç½²æ—¥å¿—å·²æ£€æŸ¥
- [ ] åº”ç”¨ç•Œé¢æ­£å¸¸æ˜¾ç¤º

---

**ç¥éƒ¨ç½²é¡ºåˆ©ï¼** ðŸš€
