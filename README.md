# 📈 上证 50 ETF 期权全景风控系统 (v4.0) 

[![Python](https://img.shields.io/badge/Python-3.9+-blue.svg)](https://www.python.org/) 
[![Streamlit](https://img.shields.io/badge/Streamlit-App-FF4B4B.svg)](https://streamlit.io/)
[![Quant](https://img.shields.io/badge/Quant-ShortVoltage-yellow.svg)]()

> 这是为期权卖方（Short Volatility）量身打造的防御级监控面板。策略核心逻辑是：**找泡沫吃时间价值，守住尾部黑天鹅不被烧掉。**系统整合了极富数学严谨性的滚动 BSADF 泡沫测试与三重分布假定的隔夜 GARCH 预测，带给您机构研报级别的量化护城河。

---

## 🌟 核心特色 (v4.0)

1. **精准定位主流资产**：系统聚焦流动性极佳的 **上证50ETF (510050.SS)** 及其相应的现货场内期权，规避中小盘容易产生异动的不可控风险。
2. **纯真无墙直连架构**：告别代理！基于双模数据源引擎建设，`yfinance` 稳定获取用于大规模算法回归的长周期后复权日线，`akshare` 无延时抓取用于靶心测算的期权竞价 T 型盘口数据。
3. **顶流级 Trading Echarts**：内置带数据极光标注的 Echarts 响应式 K 线图。在价格图形上方直观地打出 BSADF 预警黄点，让您精准捕捉单边行情见顶/见底的历史衰竭区。
4. **立体风险评估扫描仪**：计算出实时极严苛的 95% 偏态GARCH(Skew-T) 认怂线距离，通过智能数据表列出所有实时期权合约，给安全垫极大的深度虚值猎物亮起“绿灯”，对危危可及的被击穿合约亮出“红牌”。

---

## ⚡ 极速启动手册

### 第一步：环境对齐
请确保您安装了 Python 开发环境，并打开终端，一键安装系统专属武器库：
```bash
pip install streamlit pandas numpy akshare arch statsmodels scipy yfinance pyecharts streamlit-echarts
```

### 第二步：指令点火
打开终端进入本项目的根目录，运行看板渲染引擎：
```bash
cd C:\Users\gaaiy\Desktop\CSI_50_Index_Option_Trading_Signals
streamlit run app.py
```
终端将自动弹出浏览器（或手动挂载 `http://localhost:8501/`）。

---

## 🚀 驾驶舱仪表盘速查指南

当面版升起后，您需要关注以下四个关键表盘指标：

### 1. 【系统操作指令】（最核心的交易指挥官）
- **触发逻辑**：左侧面板必须有明确操作指令。当行情极值触发 BSADF 时，会在此宣告您可以“入局卖出”。如果出现“绝对观望，忍耐吃瓜”，此时请**按住您的手，坚决不入场，因为此时随机做空波动率非常容易被趋势碾压。**

### 2. 【认怂绝对红线 (VaR 95%)】
- **触发逻辑**：根据昨天收盘数据滚动千日跑出来的复合 GARCH 边界。如果这个值显示 `±2.50%`。意味着您之前如果按照 11% 距离卖出的期权，如果因为今天行情暴走，让该期权目前只有 2.4% 以下的距离就会被行权，那么现在这个期权就是**有毒的废纸，必须即刻花钱买回平仓认错，保住本金！**

### 3. 【靶心测算库】(实时期权链表格)
- 不去翻看复杂的T型交易表，这个列表直接把市场上的目标抓过来给您算差值。
- 🟢 **绿底标识**：最甜美的区域，代表“目前期权极度深度虚值，吃不到肉的风险极低，且距认怂线拥有厚重的安全垫”。
- 🔴 **红字标识**：快跑！现价距离行权价已经突破止损红线了！

### 4. 【高级诊断图表】
在 K线上随意滑动缩放。您可以看到历史行情中那一串串叠加在 K 线高点的**小黄点**。那正是 BSADF (向后上确边界平稳性极限界定) 发明者用来刻画资产出现非理性拉升的学术极值点。在黄点密集爆发后期结束之时卖出深度 Option，这就是胜率来源之根本。

---

## 🛠 关于底层开发与参数调节
如果您想自己打磨数学模型边缘或者更改分布模型：
1. **调参面板**: 您可以直接在网页左侧侧边栏调节“建仓深度”、“认躲线”的期望值，所见即所得。
2. **深度数学**: 想要一探三重 GARCH 与右侧极大右尾 ADF 的算法玄机？请详读工程同级目录下的 [`DEVELOPER.md`](DEVELOPER.md) 全景技术白皮书。
3. **参数配置**: 系统全局约束、数据流方向和技术栈定义文档参考 [`CONFIG.md`](CONFIG.md)。
